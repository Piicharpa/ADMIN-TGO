(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{342:function(e,t,i){Promise.resolve().then(i.bind(i,7160))},7160:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var s=i(9268),l=i(3702),n=i(8298),c=i(8176),r=i(4390),a=i(6006);let d={get:async()=>{try{let e=await fetch("http://178.128.123.212:5000/api/v1/admin/dashboard",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch dashboard data");let t=await e.json();return t}catch(e){throw console.error(e),e}}};var o=i(8671),u=()=>{var e,t,i,u,h,x,m;let[v,j]=(0,a.useState)(null),[b,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),{layoutConfig:y}=(0,a.useContext)(o.V);(0,a.useEffect)(()=>{d.get().then(e=>j(e)).catch(e=>console.error("Error fetching dashboard:",e))},[]);let N=(0,s.jsx)(l.z,{label:"Close",icon:"pi pi-times",onClick:()=>p(!1),className:"p-button-text"});return(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",children:(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"ผู้ดูแลระบบ"}),(0,s.jsx)("div",{className:"text-900 font-medium text-md",children:"นางสาวกัญญลักษณ์ ธนสุนทรวงศ์"})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-pencil text-blue-500 text-xl"})})]})})}),(0,s.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",children:(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"จำนวนบริษัททั้งหมด"}),(0,s.jsx)("div",{className:"text-900 font-medium text-xl",children:null!==(e=null==v?void 0:v.company_total)&&void 0!==e?e:"..."})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-building text-orange-500 text-xl"})})]})})}),(0,s.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,s.jsx)("div",{className:"card mb-0",children:(0,s.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-500 font-medium mb-3",children:"จำนวนผลิตภัณฑ์ทั้งหมด"}),(0,s.jsx)("div",{className:"text-900 font-medium text-xl",children:null!==(t=null==v?void 0:v.product_total)&&void 0!==t?t:"..."})]}),(0,s.jsx)("div",{className:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,s.jsx)("i",{className:"pi pi-inbox text-cyan-500 text-xl"})})]})})}),(0,s.jsx)("div",{className:"col-12 full",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:"Company list"}),(0,s.jsxs)(c.w,{value:(null==v?void 0:v.company_detail)||[],rows:5,paginator:!0,responsiveLayout:"scroll",children:[(0,s.jsx)(n.s,{field:"name",header:"ชื่อบริษัท",sortable:!0,style:{width:"35%"}}),(0,s.jsx)(n.s,{field:"industrial_name",header:"ประเภทอุตสาหรรม",sortable:!0,style:{width:"35%"}}),(0,s.jsx)(n.s,{header:"จำนวนผลิตภัณฑ์",body:e=>e.product_count}),(0,s.jsx)(n.s,{body:e=>(0,s.jsx)(l.z,{icon:"pi pi-eye",rounded:!0,severity:"info",onClick:()=>{g(e),p(!0)}})})]})]})}),(0,s.jsx)(r.V,{header:"Company Detail",visible:b,style:{width:"50vw"},footer:N,onHide:()=>p(!1),children:f?(0,s.jsxs)("div",{className:"p-4 space-y-2 border rounded shadow",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"ชื่อบริษัท:"})," ",null!==(i=f.name)&&void 0!==i?i:"-"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"ประเภทอุตสาหกรรม:"})," ",null!==(u=f.industrial_name)&&void 0!==u?u:"-"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"จำนวนผลิตภัณฑ์:"})," ",null!==(h=f.product_count)&&void 0!==h?h:"-"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"ที่อยู่:"})," ",null!==(x=f.address)&&void 0!==x?x:"-"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"เบอร์โทร:"})," ",null!==(m=f.contact_no)&&void 0!==m?m:"-"]})]}):(0,s.jsx)("p",{children:"Loading..."})})]})}},8671:function(e,t,i){"use strict";i.d(t,{V:function(){return n},a:function(){return c}});var s=i(9268),l=i(6006);let n=(0,l.createContext)({}),c=e=>{let{children:t}=e,[i,c]=(0,l.useState)({ripple:!1,inputStyle:"outlined",menuMode:"static",colorScheme:"light",theme:"lara-light-indigo",scale:14}),[r,a]=(0,l.useState)({staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1}),d=()=>"overlay"===i.menuMode,o=()=>window.innerWidth>991;return(0,s.jsx)(n.Provider,{value:{layoutConfig:i,setLayoutConfig:c,layoutState:r,setLayoutState:a,onMenuToggle:()=>{d()&&a(e=>({...e,overlayMenuActive:!e.overlayMenuActive})),o()?a(e=>({...e,staticMenuDesktopInactive:!e.staticMenuDesktopInactive})):a(e=>({...e,staticMenuMobileActive:!e.staticMenuMobileActive}))},showProfileSidebar:()=>{a(e=>({...e,profileSidebarVisible:!e.profileSidebarVisible}))}},children:t})}}},function(e){e.O(0,[123,434,347,702,562,565,253,769,744],function(){return e(e.s=342)}),_N_E=e.O()}]);